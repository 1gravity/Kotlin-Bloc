"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[4690],{3905:function(e,t,n){n.d(t,{Zo:function(){return s},kt:function(){return v}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=a.createContext({}),d=function(e){var t=a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},s=function(e){var t=d(e.components);return a.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,c=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),p=d(n),v=r,f=p["".concat(c,".").concat(v)]||p[v]||u[v]||i;return n?a.createElement(f,o(o({ref:t},s),{},{components:n})):a.createElement(f,o({ref:t},s))}));function v(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=p;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var d=2;d<i;d++)o[d]=n[d];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},8457:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return o},default:function(){return u},frontMatter:function(){return i},metadata:function(){return l},toc:function(){return d}});var a=n(3117),r=(n(7294),n(3905));const i={id:"android_live_data",title:"Android Live Data",sidebar_label:"Live Data",hide_title:!0},o=void 0,l={unversionedId:"extensions/android/android_live_data",id:"extensions/android/android_live_data",title:"Android Live Data",description:"Live Data",source:"@site/docs/extensions/android/live_data.md",sourceDirName:"extensions/android",slug:"/extensions/android/android_live_data",permalink:"/Kotlin-Bloc/docs/extensions/android/android_live_data",draft:!1,tags:[],version:"current",frontMatter:{id:"android_live_data",title:"Android Live Data",sidebar_label:"Live Data",hide_title:!0},sidebar:"extensionsSidebar",previous:{title:"Data Binding",permalink:"/Kotlin-Bloc/docs/extensions/android/android_data_binding"},next:{title:"Subscription",permalink:"/Kotlin-Bloc/docs/extensions/android/android_subscription"}},c={},d=[{value:"Live Data",id:"live-data",level:2}],s={toc:d};function u(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"live-data"},"Live Data"),(0,r.kt)("p",null,"To observe ",(0,r.kt)("a",{parentName:"p",href:"https://developer.android.com/topic/libraries/architecture/livedata"},"Live Data")," in general and in combination with ",(0,r.kt)("a",{parentName:"p",href:"/Kotlin-Bloc/docs/extensions/android/android_data_binding"},"Data Binding"),' specifically, we can "convert" the bloc\'s ',(0,r.kt)("inlineCode",{parentName:"p"},"StateStream")," to ",(0,r.kt)("inlineCode",{parentName:"p"},"LiveData"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-kotlin"},"class CalculatorViewModel : ViewModel() {\n    val state = toLiveData(bloc)\n")),(0,r.kt)("p",null,"In an Activity we would write:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-kotlin"},"class CalculatorActivity : AppCompatActivity() {\n\n    val bloc by getOrCreate { calculatorBloc(it) }\n\n    val state by lazy { toLiveData(bloc) }\n")),(0,r.kt)("p",null,"Note that in Activities the initialization of the state property must be lazy because the bloc is initialized lazy too. ViewModels are created lazily already and there's no need to add another lazy initialization."),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"state")," LiveData can be bound to the layout as usual:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<TextView\n    android:text="@{viewmodel.state.toString()}"/>\n\n\x3c!-- or --\x3e\n\n<TextView\n    android:text="@{activity.state.toString()}"/>\n')))}u.isMDXComponent=!0}}]);