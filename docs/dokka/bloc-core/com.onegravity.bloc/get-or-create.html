<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8">
    <title>getOrCreate</title>
<link href="../../../../images/logo-icon.svg" rel="icon" type="image/svg"><script>var pathToRoot = "../../";</script><script type="text/javascript" src="../../scripts/sourceset_dependencies.js" async="async"></script><link href="../../styles/style.css" rel="Stylesheet"><link href="../../styles/logo-styles.css" rel="Stylesheet"><link href="../../styles/jetbrains-mono.css" rel="Stylesheet"><link href="../../styles/main.css" rel="Stylesheet"><script type="text/javascript" src="../../scripts/clipboard.js" async="async"></script><script type="text/javascript" src="../../scripts/navigation-loader.js" async="async"></script><script type="text/javascript" src="../../scripts/platform-content-handler.js" async="async"></script><script type="text/javascript" src="../../scripts/main.js" async="async"></script>  </head>
  <body>
    <div id="container">
      <div id="leftColumn"><a href="../../index.html">
          <div id="logo"></div>
        </a>
        <div id="paneSearch"></div>
        <div id="sideMenu"></div>
      </div>
      <div id="main">
        <div id="leftToggler"><span class="icon-toggler"></span></div>
<script type="text/javascript" src="../../scripts/main.js"></script>        <div class="main-content" id="content" pageIds="bloc-core::com.onegravity.bloc//getOrCreate/TypeParam(bounds=[androidx.activity.OnBackPressedDispatcherOwner, androidx.lifecycle.ViewModelStoreOwner, androidx.lifecycle.LifecycleOwner])#kotlin.Any#kotlin.Function1[com.onegravity.bloc.context.BlocContext,TypeParam(bounds=[kotlin.Any])]/PointingToDeclaration//1266250859">
          <div class="navigation-wrapper" id="navigation-wrapper">
            <div class="breadcrumbs"><a href="../../index.html">bloc-core</a>/<a href="index.html">com.onegravity.bloc</a>/<a href="get-or-create.html">getOrCreate</a></div>
            <div class="pull-right d-flex">
              <div class="filter-section" id="filter-section"><button class="platform-tag platform-selector jvm-like" data-active="" data-filter=":blocCore:dokkaHtml/androidMain">android</button></div>
              <div id="searchBar"></div>
            </div>
          </div>
          <div class="cover ">
            <h1 class="cover"><span>get</span><wbr></wbr><span>Or</span><wbr></wbr><span>Create</span></h1>
          </div>
<div class="divergent-group" data-filterable-current=":blocCore:dokkaHtml/androidMain" data-filterable-set=":blocCore:dokkaHtml/androidMain"><div class="with-platform-tags"><span class="pull-right"></span></div>

  <div>
    <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-depenent-content" data-active="" data-togglable=":blocCore:dokkaHtml/androidMain"><div class="symbol monospace">inline fun &lt;<a href="get-or-create.html">A</a> : <a href="https://developer.android.com/reference/kotlin/androidx/activity/OnBackPressedDispatcherOwner.html">OnBackPressedDispatcherOwner</a>, <a href="https://developer.android.com/reference/kotlin/androidx/lifecycle/ViewModelStoreOwner.html">ViewModelStoreOwner</a>, <a href="https://developer.android.com/reference/kotlin/androidx/lifecycle/LifecycleOwner.html">LifecycleOwner</a>, <a href="get-or-create.html">Component</a> : <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html">Any</a>&gt; <a href="get-or-create.html">A</a>.<a href="get-or-create.html">getOrCreate</a>(key: <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html">Any</a> = Component::class, noinline create: (context: <a href="../com.onegravity.bloc.context/-bloc-context/index.html">BlocContext</a>) -&gt; <a href="get-or-create.html">Component</a>): <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-lazy/index.html">Lazy</a>&lt;<a href="get-or-create.html">Component</a>&gt;<span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div></div></div>
  </div>
<p class="paragraph">Use this from an Activity to get or create a &quot;Component&quot; without directly involving a ViewModel, e.g.:</p><div class="sample-container"><code class="" theme="idea"><pre>val component by getOrCreate { MyComponent(it) }      // it is the BlocContext</pre></code></div><p class="paragraph">or:</p><div class="sample-container"><code class="" theme="idea"><pre>val bloc by getOrCreate { bloc&lt;Int, Int&gt;(it, 2) { ... } }</pre></code></div><p class="paragraph">Any class that needs a BlocContext to be instantiated is considered a &quot;Component&quot; in the context of this function.</p><p class="paragraph">The component will be tied to a ViewModel which is created transparently.</p><h2 class="">Parameters</h2><div data-togglable="Parameters"><div class="platform-hinted WithExtraAttributes" data-platform-hinted="data-platform-hinted" data-togglable="Parameters"><div class="content sourceset-depenent-content" data-active="" data-togglable=":blocCore:dokkaHtml/androidMain"><div data-togglable="Parameters"><div class="table" data-togglable="Parameters"><div class="table-row" data-filterable-current=":blocCore:dokkaHtml/androidMain" data-filterable-set=":blocCore:dokkaHtml/androidMain"><div class="main-subrow keyValue WithExtraAttributes"><div class=""><span class="inline-flex">key</span></div><div><div class="title"><div data-togglable="Parameters"><p class="paragraph">As default Component::class is used as key to store and retrieve the component from     the InstanceKeeper (which is tied to the ViewModel). Because all Bloc instances have     the same class (its generic types have been erased), all Blocs would be stored with     the same key. If we're using multiple Blocs tied to the same ViewModel (e.g. multiple     fragments using different Blocs), we need to provide a key that identifies the Bloc. E.g.:</p><div class="sample-container"><code class="" theme="idea"><pre>val listBloc by getOrCreate(&quot;blocList&quot;) { listBloc(it) }<br>val detailBloc by getOrCreate(&quot;detailBloc&quot;) { detailBloc(it) }</pre></code></div><p class="paragraph">Alternatively a bloc can be wrapped into a concrete class in which case Component::class would work again as key.</p></div></div></div></div></div></div></div></div></div></div></div>
<div class="divergent-group" data-filterable-current=":blocCore:dokkaHtml/androidMain" data-filterable-set=":blocCore:dokkaHtml/androidMain"><div class="with-platform-tags"><span class="pull-right"></span></div>

  <div>
    <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-depenent-content" data-active="" data-togglable=":blocCore:dokkaHtml/androidMain"><div class="symbol monospace">inline fun &lt;<a href="get-or-create.html">Component</a> : <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html">Any</a>&gt; <a href="https://developer.android.com/reference/kotlin/androidx/fragment/app/Fragment.html">Fragment</a>.<a href="get-or-create.html">getOrCreate</a>(key: <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html">Any</a> = Component::class, noinline create: (context: <a href="../com.onegravity.bloc.context/-bloc-context/index.html">BlocContext</a>) -&gt; <a href="get-or-create.html">Component</a>): <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-lazy/index.html">Lazy</a>&lt;<a href="get-or-create.html">Component</a>&gt;<span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div></div></div>
  </div>
<p class="paragraph">The same from a fragment</p></div>
        </div>
        <div class="footer"><span class="go-to-top-icon"><a href="#content"></a></span><span>Â© 2022 Copyright</span><span class="pull-right"><span>Generated by </span><a href="https://github.com/Kotlin/dokka"><span>dokka</span><span class="padded-icon"></span></a></span></div>
      </div>
    </div>
  </body>
</html>

